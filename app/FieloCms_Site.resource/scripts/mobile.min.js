var fieloUtils=function(){"use strict";return{debug:{log:function(e,t){throw e=e||"Message not specified",t=t||"File name not specified",new Error(e,t)}},getUrlContent:function(e){var t=new XMLHttpRequest;t.open("GET",e),t.send(),t.onreadystatechange=function(){return t.readyState===XMLHttpRequest.DONE?200===t.status?t.responseText:"There was an error loding the content: code error "+t.status:void 0}},ajax:function(e,t,s){var i=new XMLHttpRequest;i.onreadystatechange=function(){if(i.readyState===XMLHttpRequest.DONE){var e=null;if(200===i.status){var t=new DOMParser,n=t.parseFromString(i.responseText,"text/html");e=n.getElementsByTagName("body")[0]}s(e,i.status)}},i.open("GET",e,t),i.send()},decodeHTMLEntities:function(e){for(var t=[["apos","'"],["amp","&"],["lt","<"],["gt",">"]],s=0,i=t.length;i>s;++s)e=e.replace(new RegExp("&"+t[s][0]+";","g"),t[s][1]);return e},removeChilds:function(e){for(;e.lastChild;)e.removeChild(e.lastChild)},getParentUntil:function(e,t){var s,i=t.charAt(0);switch(i){case".":for(s=t.substr(1);e&&e!==document;e=e.parentNode)if(e.classList.contains(s))return e;break;case"#":for(s=t.substr(1);e&&e!==document;e=e.parentNode)if(e.id===s)return e;break;case"[":s=t.substr(1,t.length-2).split("=");var n=s[0].trim();if(1===s.length){for(;e&&e!==document;e=e.parentNode)if(e.hasAttribute(n))return e}else if(2===s.length){var o=!1,r=s[1].trim();for("~"===n.substr(n.length-1,1)&&(n=n.substr(0,n.length-1),o=!0);e&&e!==document;e=e.parentNode)if(e.hasAttribute(n)){var a=e.getAttribute(n);if(a===r||o===!0&&a.indexOf(r)>=0)return e}}else fieloUtils.debug.log("Invalid selector:"+t);break;default:for(;e&&e!==document;e=e.parentNode)if(e.tagName.toLowerCase()===t)return e}return!1},initialize:function(){"remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)})}}}();window.fieloUtils=fieloUtils,fieloUtils.initialize(),function(){"use strict";var e=document.querySelector(".fielo-site"),t={};e.FieloSite=t,t.element_=e,t.DataAttribute_={PACKAGE_PREFIX:"data-package-prefix",SITE_PATH:"data-sitepath"},t.CssClasses_={PACKAGE_PREFIX:"data-package-prefix"},t.requestToConfig_=function(){var e="/";return""!==this.sitePath_&&(e+=this.sitePath_+"/"),""!==this.ns&&(e+=this.ns+"__"),e+="SiteConfig"},t.setConfig_=function(e,t){200===t?this.config=JSON.parse(e.innerHTML):this.config=null},t.getLabel=function(e){return null!==this.config&&"undefined"!=typeof this.config.label[e]?this.config.label[e]:e},t.init=function(){this.ns=this.element_.getAttribute(this.DataAttribute_.PACKAGE_PREFIX),this.sitePath_=this.element_.getAttribute(this.DataAttribute_.SITE_PATH),this.config="",this.urlToConfig_=this.requestToConfig_(),fieloUtils.ajax(this.urlToConfig_,!1,this.setConfig_.bind(this)),fieloUtils.site=this.element_},t.init()}();/**
 * @license
 * Copyright 2015 Google Inc. All Rights Reserved.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var componentHandler={upgradeDom:function(e,t){},upgradeElement:function(e,t){},upgradeElements:function(e){},upgradeAllRegistered:function(){},registerUpgradedCallback:function(e,t){},register:function(e){},downgradeElements:function(e){}};componentHandler=function(){"use strict";function e(e,t){for(var s=0;s<h.length;s++)if(h[s].className===e)return"undefined"!=typeof t&&(h[s]=t),h[s];return!1}function t(e){var t=e.getAttribute("data-upgraded");return null===t?[""]:t.split(",")}function s(e,s){var i=t(e);return-1!==i.indexOf(s)}function i(t,s){if("undefined"==typeof t&&"undefined"==typeof s)for(var o=0;o<h.length;o++)i(h[o].className,h[o].cssClass);else{var r=t;if("undefined"==typeof s){var a=e(r);a&&(s=a.cssClass)}for(var l=document.querySelectorAll("."+s),c=0;c<l.length;c++)n(l[c],r)}}function n(i,n){if(!("object"==typeof i&&i instanceof Element))throw new Error("Invalid argument provided to upgrade MDL element.");var o=t(i),r=[];if(n)s(i,n)||r.push(e(n));else{var a=i.classList;h.forEach(function(e){a.contains(e.cssClass)&&-1===r.indexOf(e)&&!s(i,e.className)&&r.push(e)})}for(var l,c=0,d=r.length;d>c;c++){if(l=r[c],!l)throw new Error("Unable to find a registered component for the given class.");o.push(l.className),i.setAttribute("data-upgraded",o.join(","));var p=new l.classConstructor(i);p[u]=l,_.push(p);for(var f=0,m=l.callbacks.length;m>f;f++)l.callbacks[f](i);l.widget&&(i[l.className]=p);var g=document.createEvent("Events");g.initEvent("mdl-componentupgraded",!0,!0),i.dispatchEvent(g)}}function o(e){Array.isArray(e)||(e="function"==typeof e.item?Array.prototype.slice.call(e):[e]);for(var t,s=0,i=e.length;i>s;s++)t=e[s],t instanceof HTMLElement&&(n(t),t.children.length>0&&o(t.children))}function r(t){var s="undefined"==typeof t.widget&&"undefined"==typeof t.widget,i=!0;s||(i=t.widget||t.widget);var n={classConstructor:t.constructor||t.constructor,className:t.classAsString||t.classAsString,cssClass:t.cssClass||t.cssClass,widget:i,callbacks:[]};if(h.forEach(function(e){if(e.cssClass===n.cssClass)throw new Error("The provided cssClass has already been registered: "+e.cssClass);if(e.className===n.className)throw new Error("The provided className has already been registered")}),t.constructor.prototype.hasOwnProperty(u))throw new Error("MDL component classes must not have "+u+" defined as a property.");var o=e(t.classAsString,n);o||h.push(n)}function a(t,s){var i=e(t);i&&i.callbacks.push(s)}function l(){for(var e=0;e<h.length;e++)i(h[e].className)}function c(e){if(e){var t=_.indexOf(e);_.splice(t,1);var s=e.element_.getAttribute("data-upgraded").split(","),i=s.indexOf(e[u].classAsString);s.splice(i,1),e.element_.setAttribute("data-upgraded",s.join(","));var n=document.createEvent("Events");n.initEvent("mdl-componentdowngraded",!0,!0),e.element_.dispatchEvent(n)}}function d(e){var t=function(e){_.filter(function(t){return t.element_===e}).forEach(c)};if(e instanceof Array||e instanceof NodeList)for(var s=0;s<e.length;s++)t(e[s]);else{if(!(e instanceof Node))throw new Error("Invalid argument provided to downgrade MDL nodes.");t(e)}}var h=[],_=[],u="mdlComponentConfigInternal_";return{upgradeDom:i,upgradeElement:n,upgradeElements:o,upgradeAllRegistered:l,registerUpgradedCallback:a,register:r,downgradeElements:d}}(),componentHandler.ComponentConfigPublic,componentHandler.ComponentConfig,componentHandler.Component,componentHandler.upgradeDom=componentHandler.upgradeDom,componentHandler.upgradeElement=componentHandler.upgradeElement,componentHandler.upgradeElements=componentHandler.upgradeElements,componentHandler.upgradeAllRegistered=componentHandler.upgradeAllRegistered,componentHandler.registerUpgradedCallback=componentHandler.registerUpgradedCallback,componentHandler.register=componentHandler.register,componentHandler.downgradeElements=componentHandler.downgradeElements,window.componentHandler=componentHandler,window.componentHandler=componentHandler,window.addEventListener("load",function(){"use strict";"classList"in document.documentElement&&"querySelector"in document&&"addEventListener"in window&&"forEach"in Array.prototype?(document.documentElement.classList.add("mdl-js"),componentHandler.upgradeAllRegistered()):(componentHandler.upgradeElement=function(){},componentHandler.register=function(){})}),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.FieloOutput=e,e.prototype.CssClasses_={TIME:"fielo-time"},e.prototype.setDefaults_=function(){this.config_={locale:"en-US"},this.type_=this.element_.getAttribute("data-type"),this.value_=this.element_.getAttribute("data-value")},e.prototype.convertValue_=function(){var e;switch(this.type_){case"date":case"datetime":""!==this.value_&&(e=new Date,e.setTime(isNaN(this.value_)?Date.parse(this.value_):this.value_),this.value_=e.toLocaleDateString(this.config_.locale),"datetime"===this.type_&&(this.value_+=" "+e.toLocaleTimeString(this.config_.locale)));break;case"integer":""!==this.value_&&(e=Number.parseInt(this.value_,10),this.value_=e.toLocaleString(this.config_.locale));break;case"currency":if(""!==this.value_){e=parseFloat(this.value_);var t=this.element_.getAttribute("data-currencyIsoCode");this.value_=e.toLocaleString(this.config_.locale,{style:"currency",currency:t})}break;case"percent":""!==this.value_&&(e=parseFloat(this.value_),this.value_=e.toLocaleString(this.config_.locale,{style:"percent"}));break;case"double":case"decimal":case"number":""!==this.value_&&(e=parseFloat(this.value_),this.value_=e.toLocaleString(this.config_.locale))}if(e){var s;switch(this.type_){case"date":case"datetime":s=this.element_.querySelector("."+this.CssClasses_.TIME),s?(s.setAttribute("datetime",this.value_),s.innerText=this.value_):this.element_.innerText=this.value_;break;case"reference":s=this.element_.getElementsByTagName("a")[0],s&&(this.element_.innerText=s.innerText);break;default:this.element_.innerText=this.value_}}},e.prototype.init=function(){this.element_&&(this.setDefaults_(),this.convertValue_())},componentHandler.register({constructor:e,classAsString:"FieloOutput",cssClass:"fielo-output",widget:!1})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.FieloSpinner=e,e.prototype.CssClasses_={HIDDEN:"hidden"},e.prototype.show=function(){this.element_.classList.remove(this.CssClasses_.HIDDEN)},e.prototype.hide=function(){this.element_.classList.add(this.CssClasses_.HIDDEN)},e.prototype.init=function(){this.element_&&(this.element_.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation()}),fieloUtils.spinner=this.element_)},componentHandler.register({constructor:e,classAsString:"FieloSpinner",cssClass:"fielo-spinner",widget:!0})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.FieloMessage=e,e.prototype.Constant_={TYPE_PREFIX:"TYPE_",TYPE_DEFAULT:"INFO",REDIRECT_WAIT_DEFAULT:4},e.prototype.CssClasses_={MESSAGE:"fielo-message__text",COUNTER:"fielo-message__counter",HIDDEN:"hidden",FADE_IN:"fielo-message--fade-in",FADE_OUT:"fielo-message--fade-out",TYPE_CONFIRM:"fielo-message--is-confirm",TYPE_INFO:"fielo-message--is-info",TYPE_ERROR:"fielo-message--is-error",TYPE_FATAL:"fielo-message--is-fatal",TYPE_WARNING:"fielo-message--is-warning"},e.prototype.setDefaults_=function(){this.registerTypes_(),this.redirect_={},this.redirect_.active=!1,this.redirect_.url="",this.redirect_.wait=0,this.isAnimated_=!0},e.prototype.setAnimationListeners_=function(){this.element_.addEventListener("animationstart",this.animationStarted.bind(this)),this.element_.addEventListener("animationiteration",this.animationNewIteration.bind(this)),this.element_.addEventListener("animationend",this.animationEnded.bind(this))},e.prototype.registerTypes_=function(){this.selectedType_="",this.types_=[];for(var e in this.CssClasses_)0===e.indexOf(this.Constant_.TYPE_PREFIX)&&this.types_.push(e)},e.prototype.clearType_=function(){this.types_.forEach(function(e){this.element_.classList.remove(this.CssClasses_[e])},this),this.selectedType_=""},e.prototype.createCounterButton_=function(){var e=document.createElement("span");e.classList.add(this.CssClasses_.COUNTER),this.element_.appendChild(e),this.counter_=this.element_.querySelector("."+this.CssClasses_.COUNTER)},e.prototype.deleteCounterButton_=function(){this.counter_.remove()},e.prototype.runTimer_=function(){setTimeout(function(){this.redirect_.wait>=0?(this.counter_.innerHTML=this.redirect_.wait,this.redirect_.wait--,this.runTimer_()):(this.hide(),this.doRedirect())}.bind(this),1e3)},e.prototype.clickEventListener_=function(){this.hide()},e.prototype.animate=function(e){this.isAnimated_=e},e.prototype.addMessages=function(e){"string"==typeof e&&(e=e.split(e+"toArray"));for(var t=e.length,s=0;t>s;s++){var i=document.createElement("p");i.classList.add(this.CssClasses_.MESSAGE),i.innerText=e[s],this.element_.appendChild(i)}},e.prototype.setType=function(e){this.clearType_(),e=e||"",this.selectedType_=e.toUpperCase(),-1!==this.types_.indexOf(this.Constant_.TYPE_PREFIX+this.selectedType_)&&""!==this.selectedType_?this.element_.classList.add(this.CssClasses_[this.Constant_.TYPE_PREFIX+this.selectedType_]):(this.selectedType_=this.Constant_.TYPE_DEFAULT,this.element_.classList.add(this.Constant_.TYPE_PREFIX+this.Constant_.TYPE_DEFAULT.toUpperCase()))},e.prototype.setRedirect=function(e,t){this.redirect_.url=e||this.redirect_.url,this.redirect_.wait=t||this.Constant_.REDIRECT_WAIT_DEFAULT,""!==this.redirect_.url&&this.redirect_.wait>0&&(this.redirect_.active=!0)},e.prototype.doRedirect=function(){this.redirect_.active&&(window.location.href=this.redirect_.url)},e.prototype.clear=function(){this.element_.innerHTML="",this.clearType_()},e.prototype.show=function(){""===this.selectedType_&&this.setType(this.Constant_.TYPE_DEFAULT),this.redirect_.active&&(this.createCounterButton_(),this.runTimer_()),this.isAnimated_&&this.element_.classList.add(this.CssClasses_.FADE_IN),this.element_.classList.remove(this.CssClasses_.FADE_OUT),this.element_.classList.remove(this.CssClasses_.HIDDEN)},e.prototype.hide=function(){this.redirect_.active&&this.deleteCounterButton_(),this.isAnimated_?(this.element_.classList.remove(this.CssClasses_.FADE_IN),this.element_.classList.add(this.CssClasses_.FADE_OUT)):this.element_.classList.add(this.CssClasses_.HIDDEN)},e.prototype.animationStarted=function(){},e.prototype.animationNewIteration=function(){},e.prototype.animationEnded=function(e){switch(e.animationName){case"message_fadeout":this.element_.classList.add(this.CssClasses_.HIDDEN)}},e.prototype.init=function(){this.element_&&(this.setDefaults_(),this.setAnimationListeners_(),this.element_.addEventListener("click",this.clickEventListener_.bind(this)),fieloUtils.message=this.element_)},componentHandler.register({constructor:e,classAsString:"FieloMessage",cssClass:"fielo-message",widget:!0})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.FieloModal=e,e.prototype.CssClasses_={HIDDEN:"hidden",CLOSE:"fielo-modal__close",BODY:"fielo-modal__body",BODY_CONTAINER:"fielo-modal__body-container",FADE_IN:"fielo-modal--fade-in",FADE_OUT:"fielo-modal--fade-out"},e.prototype.Constant_={CALLED_BY:"data-called-by"},e.prototype.setDefaults_=function(){this.isAnimated_=!0,this.closeBtn_=this.element_.querySelector("."+this.CssClasses_.CLOSE),this.body_=this.element_.querySelector("."+this.CssClasses_.BODY),this.bodyContainer_=this.body_.querySelector("."+this.CssClasses_.BODY_CONTAINER)},e.prototype.closeEventListener_=function(){event.stopPropagation(),this.hide()},e.prototype.registerCloseElements_=function(){this.element_.addEventListener("click",this.closeEventListener_.bind(this)),this.closeBtn_.addEventListener("click",this.closeEventListener_.bind(this))},e.prototype.noClosingEventListener_=function(){event.stopPropagation()},e.prototype.registerNoClosingElements_=function(){this.body_.addEventListener("click",this.noClosingEventListener_.bind(this))},e.prototype.setAnimationListeners_=function(){this.element_.addEventListener("animationstart",this.animationStarted.bind(this)),this.element_.addEventListener("animationiteration",this.animationNewIteration.bind(this)),this.element_.addEventListener("animationend",this.animationEnded.bind(this))},e.prototype.animationStarted=function(){},e.prototype.animationNewIteration=function(){},e.prototype.animationEnded=function(e){switch(e.animationName){case"modal_fadein":this.element_.classList.remove(this.CssClasses_.FADE_IN);break;case"modal_fadeout":this.element_.classList.add(this.CssClasses_.HIDDEN),this.element_.classList.remove(this.CssClasses_.FADE_OUT)}},e.prototype.animate=function(e){this.isAnimated_=e},e.prototype.show=function(){this.isAnimated_&&this.element_.classList.add(this.CssClasses_.FADE_IN),this.element_.classList.remove(this.CssClasses_.HIDDEN)},e.prototype.hide=function(){this.isAnimated_?this.element_.classList.add(this.CssClasses_.FADE_OUT):this.element_.classList.add(this.CssClasses_.HIDDEN)},e.prototype.setCloseLabel=function(e){e=e||fieloUtils.site.FieloSite.getLabel("close"),this.closeBtn_.innerHTML="","string"==typeof e?this.closeBtn_.innerHTML=e:this.closeBtn_.appendChild(e)},e.prototype.setContent=function(e){e=e||"",this.bodyContainer_.innerHTML="","string"==typeof e?this.bodyContainer_.innerHTML=e:this.bodyContainer_.appendChild(e)},e.prototype.setCalledBy=function(e){e=e||"",this.element_.setAttribute(this.Constant_.CALLED_BY,e)},e.prototype.init=function(){this.element_&&(this.setDefaults_(),this.registerCloseElements_(),this.registerNoClosingElements_(),this.setCloseLabel(),this.setAnimationListeners_(),fieloUtils.modal=this.element_)},componentHandler.register({constructor:e,classAsString:"FieloModal",cssClass:"fielo-modal",widget:!0})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.FieloSlider=e,e.prototype.CssClasses_={SLIDING:"fielo-slider__container--is-sliding",ARROW_PREVIOUS:"fielo-slider__arrow--is-previous",ARROW_NEXT:"fielo-slider__arrow--is-next",CONTAINER:"fielo-slider__container",SLIDES:"fielo-slider__slide"},e.prototype.setStyles_=function(e,t){var s="";for(var i in t)({}).hasOwnProperty.call(t,i)&&(s+=t[i]);e.setAttribute("style",s)},e.prototype.setDefaults_=function(){this.currentSlide_=1,this.container_=this.element_.querySelector("."+this.CssClasses_.CONTAINER),this.slides_=this.container_.querySelectorAll("."+this.CssClasses_.SLIDES),this.quantity_=this.slides_.length,this.width_=this.element_.offsetWidth,this.arrow_={},this.arrow_.previous=this.element_.querySelector("."+this.CssClasses_.ARROW_PREVIOUS),this.arrow_.next=this.element_.querySelector("."+this.CssClasses_.ARROW_NEXT),this.setKeyframeRule_(),this.containerStyles_={},this.play_=!0,this.delay_=3},e.prototype.setKeyframeRule_=function(){this.keyframes_=[],[].forEach.call(document.styleSheets,function(e){[].forEach.call(e.cssRules,function(e){7===e.type&&"slide"===e.name&&this.keyframes_.push(e)},this)},this)},e.prototype.setAnimationListeners_=function(){this.element_.addEventListener("animationstart",this.animationStarted.bind(this)),this.element_.addEventListener("animationiteration",this.animationNewIteration.bind(this)),this.element_.addEventListener("animationend",this.animationEnded.bind(this))},e.prototype.setKeyframe_=function(e){this.keyframes_.forEach(function(t){t.name===e&&(t.cssRules[0].style.left="-"+100*(this.currentSlide_-1)+"%")}.bind(this))},e.prototype.setContainerWidth_=function(){this.containerStyles_.width="width:"+100*this.quantity_+"%;",this.setStyles_(this.container_,this.containerStyles_)},e.prototype.saveCurrentPosition_=function(){this.containerStyles_.left="left:-"+100*(this.currentSlide_-1)+"%;",this.setStyles_(this.container_,this.containerStyles_)},e.prototype.setSlidesProperties_=function(){[].forEach.call(this.slides_,function(e){this.setSlideLinks_(e),this.setSlidesWidth_(e)},this)},e.prototype.setSlidesWidth_=function(e){e.setAttribute("style","width: calc(100%/"+this.quantity_+");")},e.prototype.setSlideLinks_=function(e){var t=e.getAttribute("data-link");""!==t&&e.addEventListener("click",function(){window.location=t})},e.prototype.registerNavigation_=function(){this.arrow_.previous.addEventListener("click",this.goPrevious.bind(this)),this.arrow_.next.addEventListener("click",this.goNext.bind(this))},e.prototype.animationStarted=function(){},e.prototype.animationNewIteration=function(){},e.prototype.animationEnded=function(e){switch(this.saveCurrentPosition_(),e.animationName){case"slide":this.container_.classList.remove(this.CssClasses_.SLIDING)}this.play_&&setTimeout(this.goToSlide.bind(this),1e3*this.delay_)},e.prototype.goPrevious=function(){this.currentSlide_>1&&this.goToSlide(this.currentSlide_-1)},e.prototype.goNext=function(){this.currentSlide_<this.quantity_&&this.goToSlide(this.currentSlide_+1)},e.prototype.setAutoPlay=function(e){this.play_=e,this.play_&&this.goToSlide()},e.prototype.goToSlide=function(e){e?this.currentSlide_=e:this.currentSlide_<this.quantity_?this.currentSlide_++:this.currentSlide_=1,this.setKeyframe_("slide"),this.container_.classList.add(this.CssClasses_.SLIDING)},e.prototype.init=function(){this.element_&&(this.setDefaults_(),this.setAnimationListeners_(),this.setContainerWidth_(),this.setSlidesProperties_(),this.registerNavigation_(),this.saveCurrentPosition_())},componentHandler.register({constructor:e,classAsString:"FieloSlider",cssClass:"fielo-slider",widget:!0})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.FieloRecordSet=e,e.prototype.Constant_={DATA_VALUE:"data-value",DATA_LAYOUT:"data-layout",DATA_UPGRADED:"data-upgraded",DATA_ATTRIBUTE_REPLACE:"data-attribute-replace",DATA_DETAIL_PARAMETER:"data-detail-parameter",DATA_OBJECT_PROPERTY:"data-object-property",MODULE_OUTPUT:"FieloOutput",MODULE_RECORD:"FieloRecord",MODULE_RECORD_SET:"FieloRecordSet"},e.prototype.CssClasses_={DATA:"fielo-record-set__data",DATA_DISABLED:"fielo-record-set__data--disabled",TEMPLATE:"fielo-record-set__template",RECORD:"fielo-record",FIELD_IS:"fielo-field--is-",FIELD_IS_DETAIL:"fielo-field--is-detail",OUTPUT:"fielo-output",LINK_TO_DETAIL:"fielo-link__to-detail",FIELD_VALUE:"fielo-field__value"},e.prototype.setDefaults_=function(){this.ns_=fieloUtils.site.FieloSite.ns,this.layout_=this.element_.getAttribute(this.Constant_.DATA_LAYOUT),this.data_=this.element_.querySelector("."+this.CssClasses_.DATA),this.setRecordsObject_(),this.records_.inTemplate>0&&(this.setRecordSetTemplate_(),this.setRecordTemplate_(),this.onlyOneTemplate_=this.recordSetTemplate_.isEqualNode(this.recordTemplate_))},e.prototype.setRecordsObject_=function(){this.records_={};var e=this.data_.querySelector("."+this.CssClasses_.TEMPLATE);e&&(this.records_.inTemplate=e.children.length||0),this.records_.inPage=this.data_.querySelectorAll("."+this.CssClasses_.RECORD).length||0,this.records_.fields=[],e=null},e.prototype.setRecordSetTemplate_=function(){this.recordSetTemplate_=this.data_.querySelector("."+this.CssClasses_.TEMPLATE).cloneNode(!0),this.recordSetTemplate_.removeAttribute(this.Constant_.DATA_UPGRADED)},e.prototype.setRecordTemplate_=function(){this.recordTemplate_=this.data_.querySelector("."+this.CssClasses_.RECORD).cloneNode(!0),this.recordTemplate_.removeAttribute(this.Constant_.DATA_UPGRADED)},e.prototype.cleanDataChilds_=function(){[].forEach.call(this.data_.querySelectorAll("."+this.CssClasses_.FIELD_IS_DETAIL+", ."+this.CssClasses_.TEMPLATE),function(e){e.remove()})},e.prototype.setFieldsValues_=function(e,t){this.records_.fields.forEach(function(s){var i=t.querySelector("."+this.CssClasses_.FIELD_IS+s);if(i){var n=i.querySelector("."+this.CssClasses_.OUTPUT);n&&(n.removeAttribute(this.Constant_.DATA_UPGRADED),n.innerHTML=e[s],n.hasAttribute(this.Constant_.DATA_VALUE)&&n.setAttribute(this.Constant_.DATA_VALUE,e[s]),componentHandler.upgradeElement(n,this.Constant_.MODULE_OUTPUT))}},this)},e.prototype.setLinksToDetailValues_=function(e,t){[].forEach.call(t.querySelectorAll("."+this.CssClasses_.LINK_TO_DETAIL),function(t){var s=t.getAttribute("href"),i=s.split("?"),n=i[0];i=i[1],i=i.split("&");var o=t.getAttribute(this.Constant_.DATA_DETAIL_PARAMETER);i.forEach(function(t,s){t.indexOf(o)>=0&&(i[s]=o+"="+e.Id)}),s=n+"?"+i.join("&"),t.setAttribute("href",s)},this)},e.prototype.setSubcomponentsValues_=function(e,t){[].forEach.call(t.querySelectorAll("["+this.Constant_.DATA_ATTRIBUTE_REPLACE+"]"),function(t){var s=t.getAttribute(this.Constant_.DATA_OBJECT_PROPERTY);if("undefined"==typeof e[s])t.classList.add("hidden");else{var i=t.getAttribute(this.Constant_.DATA_ATTRIBUTE_REPLACE),n=e[s];"src"!==i&&"href"!==i||(n=fieloUtils.decodeHTMLEntities(e[s])),t.setAttribute(i,n),t.classList.remove("hidden")}},this)},e.prototype.render=function(e,t){if("undefined"==typeof e.length||0===e.length)this.data_.classList.add(this.CssClasses_.DATA_DISABLED),fieloUtils.message.FieloMessage.clear(),fieloUtils.message.FieloMessage.addMessages(fieloUtils.site.FieloSite.getLabel("noResultsFound")),fieloUtils.message.FieloMessage.setRedirect("#",4),fieloUtils.message.FieloMessage.show();else{this.data_.classList.remove(this.CssClasses_.DATA_DISABLED),this.records_.fields=Object.keys(e[0]),this.cleanDataChilds_();var s=[],i=[],n=0;e.forEach(function(t){var o=0,r=this.recordTemplate_.cloneNode(!0);this.setFieldsValues_(t,r),this.setLinksToDetailValues_(t,r),this.setSubcomponentsValues_(t,r),i.push(r),n+=1,r=null,this.onlyOneTemplate_||(o+=1,o!==this.records_.inTemplate&&e.length!==n||(s.push(i.slice(0)),i.length=0,o=0))},this),this.onlyOneTemplate_?i.forEach(function(e){this.data_.appendChild(e)},this):s.forEach(function(e){for(var t=this.recordSetTemplate_.cloneNode(!0);t.hasChildNodes();)t.removeChild(t.firstChild);e.forEach(function(e){t.appendChild(e)},this),this.data_.appendChild(t)},this),setTimeout(function(){var e=this.element_.querySelectorAll("."+this.CssClasses_.RECORD);componentHandler.upgradeElements(e),[].forEach.call(e,function(e){e.FieloRecord.initForms()})}.bind(this),0)}t&&t(e)},e.prototype.init=function(){this.element_&&this.setDefaults_()},componentHandler.register({constructor:e,classAsString:"FieloRecordSet",cssClass:"fielo-record-set"})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.FieloRecord=e,e.prototype.CssClasses_={LINK_TO_DETAIL:"fielo-link__to-detail",LINK_IS_PAGE:"fielo-link__to-detail--is-InternalPage",LINK_IS_MODAL:"fielo-link__to-detail--is-Modal",LINK_IS_ACCORDION:"fielo-link__to-detail--is-Accordion",FIELD:"fielo-field",RECORD:"fielo-record",RECORD_SET:"fielo-record-set",FIELD_IS_ACCORDION:"fielo-field--is-accordion",DETAIL:"fielo-field--is-detail",HIDDEN:"hidden"},e.prototype.Constant_={COMPONENT_NAME:"data-component-name"},e.prototype.setDefaults_=function(){this.detailIsLoaded_=!1,this.linksToDetail_=this.element_.querySelectorAll("."+this.CssClasses_.LINK_TO_DETAIL),this.recordset_=fieloUtils.getParentUntil(this.element_,"."+this.CssClasses_.RECORD_SET),this.recordset_?this.componentName_=this.recordset_.getAttribute(this.Constant_.COMPONENT_NAME):this.componentName_=""},e.prototype.setLinksListeners_=function(){[].forEach.call(this.linksToDetail_,function(e){e.addEventListener("click",this.clickListener.bind(this))},this)},e.prototype.createDetail_=function(){this.linksToDetail_[0].classList.contains(this.CssClasses_.LINK_IS_ACCORDION)?("TR"===this.element_.nodeName?(this.detail_=document.createElement("tr"),this.container_=document.createElement("td"),this.container_.setAttribute("colspan",this.element_.childElementCount),this.container_.classList.add(this.CssClasses_.DETAIL),this.detail_.appendChild(this.container_)):(this.detail_=document.createElement("div"),this.detail_.classList.add(this.CssClasses_.DETAIL),this.container_=this.detail_),this.detail_.classList.add(this.CssClasses_.FIELD_IS_ACCORDION),this.detail_.classList.add(this.CssClasses_.HIDDEN)):(this.detail_=document.createElement("div"),this.detail_.classList.add(this.CssClasses_.DETAIL),this.container_=this.detail_)},e.prototype.upgrade_=function(e){componentHandler.upgradeElements(e)},e.prototype.clickListener=function(e){var t=fieloUtils.getParentUntil(e.target,"."+this.CssClasses_.LINK_TO_DETAIL).classList.contains(this.CssClasses_.LINK_IS_PAGE);t||(e.preventDefault(),e.stopPropagation(),this.open())},e.prototype.open=function(){if(this.linksToDetail_[0].classList.contains(this.CssClasses_.LINK_IS_ACCORDION))this.detail_.classList.toggle(this.CssClasses_.HIDDEN);else if(this.linksToDetail_[0].classList.contains(this.CssClasses_.LINK_IS_MODAL)){var e=this.detail_.cloneNode(!0);this.upgrade_(e.querySelector("."+this.CssClasses_.RECORD)),fieloUtils.modal.FieloModal.setCalledBy(this.componentName_),fieloUtils.modal.FieloModal.setContent(e),fieloUtils.modal.FieloModal.show()}},e.prototype.setDetailContent=function(){this.detailIsLoaded_||setTimeout(function(){fieloUtils.ajax(this.link_,!1,function(e,t){if(200===t)for(;e.childElementCount>0;)this.container_.appendChild(e.children[0]),componentHandler.upgradeElements(this.container_);else fieloUtils.debug.log("There was an error loding the content: code error "+t);this.linksToDetail_[0].classList.contains(this.CssClasses_.LINK_IS_ACCORDION)&&("TR"===this.element_.nodeName?this.element_.parentNode.insertBefore(this.detail_,this.element_.nextSibling):this.element_.appendChild(this.detail_)),this.detailIsLoaded_=!0}.bind(this))}.bind(this))},e.prototype.initForms=function(){oldLoader.initForms_(this.element_)},e.prototype.init=function(){this.element_&&(this.setDefaults_(),this.linksToDetail_.length>0&&(this.link_=this.linksToDetail_[0].getAttribute("href"),this.createDetail_(),this.setLinksListeners_(),this.linksToDetail_[0].classList.contains(this.CssClasses_.LINK_IS_PAGE)||this.setDetailContent()))},componentHandler.register({constructor:e,classAsString:"FieloRecord",cssClass:"fielo-record"})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.FieloPaginator=e,e.prototype.Constant_={COMPONENT_ID:"data-component-id",BINDING:"data-binding",QUANTITY_PER_PAGE:"data-quantity-per-page",PAGE:"data-page",FILTERS:"data-filters",ORDER_BY:"data-order-by"},e.prototype.CssClasses_={LINK_PREVIOUS:"fielo-link__previous",LINK_NEXT:"fielo-link__next",RECORD_SET:"fielo-record-set",DISABLED:"disabled"},e.prototype.setDefaults_=function(){this.recordSet=fieloUtils.getParentUntil(this.element_,"."+this.CssClasses_.RECORD_SET),this.ns_=fieloUtils.site.FieloSite.ns,""!==this.ns_&&(this.ns_+="."),this.controller_=this.ns_+"PageController.getRecords",this.componentId_=this.element_.getAttribute(this.Constant_.COMPONENT_ID),this.dataBinding_=this.element_.getAttribute(this.Constant_.BINDING),this.recordsPerPage_=Number(this.element_.getAttribute(this.Constant_.QUANTITY_PER_PAGE)),this.recordsInPage_=this.recordSet.FieloRecordSet.records_.inPage,this.page_=Number(this.element_.getAttribute(this.Constant_.PAGE))||1,this.filters_=JSON.parse(this.element_.getAttribute(this.Constant_.FILTERS))||{},this.orderBy_=this.element_.getAttribute(this.Constant_.ORDER_BY)||"",this.links_={previous:this.element_.querySelector("."+this.CssClasses_.LINK_PREVIOUS),next:this.element_.querySelector("."+this.CssClasses_.LINK_NEXT)}},e.prototype.setLinksStatus_=function(){this.recordsInPage_<this.recordsPerPage_?this.links_.next.classList.add(this.CssClasses_.DISABLED):this.links_.next.classList.remove(this.CssClasses_.DISABLED),1===this.page_?this.links_.previous.classList.add(this.CssClasses_.DISABLED):this.links_.previous.classList.remove(this.CssClasses_.DISABLED)},e.prototype.getPreviousPage_=function(){this.links_.previous.classList.contains(this.CssClasses_.DISABLED)||(this.setPage(this.page_-1),this.getRecords())},e.prototype.getNextPage_=function(){this.links_.next.classList.contains(this.CssClasses_.DISABLED)||(this.setPage(this.page_+1),this.getRecords())},e.prototype.setLinksListeners_=function(){this.links_.previous.addEventListener("click",this.getPreviousPage_.bind(this)),this.links_.next.addEventListener("click",this.getNextPage_.bind(this))},e.prototype.setUpLinks_=function(){this.setLinksStatus_(),this.setLinksListeners_()},e.prototype.setPage=function(e){this.page_=e||1,this.element_.setAttribute(this.Constant_.PAGE,e)},e.prototype.getFilters=function(){return this.filters_},e.prototype.setFilters=function(e){for(var t in e)({}).hasOwnProperty.call(e,t)&&(this.filters_[t]=e[t]);this.element_.setAttribute(this.Constant_.FILTERS,JSON.stringify(this.filters))},e.prototype.setOrderBy=function(e){this.orderBy_=e,this.element_.setAttribute(this.Constant_.ORDER_BY,e)},e.prototype.resolveRequest_=function(e,t){fieloUtils.spinner.FieloSpinner.hide(),setTimeout(function(){if(!t)throw new Error("todo: no hay registros a mostrar","paginator.js");this.recordsInPage_=t.length||0,this.setLinksStatus_(),this.recordSet.FieloRecordSet.render(t,e)}.bind(this),0)},e.prototype.getRecords=function(e){fieloUtils.spinner.FieloSpinner.show();try{setTimeout(function(){Visualforce.remoting.Manager.invokeAction(this.controller_,this.componentId_,this.page_,this.orderBy_,JSON.stringify(this.filters_),this.resolveRequest_.bind(this,e),{escape:!1})}.bind(this),0)}catch(t){fieloUtils.spinner.FieloSpinner.hide(),fieloUtils.debug.log(t)}},e.prototype.init=function(){this.element_&&(this.setDefaults_(),this.setUpLinks_())},componentHandler.register({constructor:e,classAsString:"FieloPaginator",cssClass:"fielo-paginator"})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.FieloOrderBy=e,e.prototype.Constant_={ORDER_VALUE:"data-order-value",DATA_MENU_TYPE:"data-order-by-type"},e.prototype.CssClasses_={PAGINATOR:"fielo-paginator",RECORD_SET:"fielo-record-set",MENU_IS_OPEN:"fielo-order-by--is-open",ORDER_BY_ITEM:"fielo-order-by__item",ASC:"fielo-order-by__item--is-asc",DESC:"fielo-order-by__item--is-desc",ACTIVE:"active"},e.prototype.setDefaults_=function(){this.defaults_={menuType:"popup",orderValue:""},this.recordSet_=fieloUtils.getParentUntil(this.element_,"."+this.CssClasses_.RECORD_SET),this.paginator_=this.recordSet_.querySelector("."+this.CssClasses_.PAGINATOR),this.menuType_=this.element_.getAttribute(this.Constant_.DATA_MENU_TYPE)||this.defaults_.menuType,this.items_=this.element_.querySelectorAll("."+this.CssClasses_.ORDER_BY_ITEM),this.itemActive_=this.element_.querySelector("."+this.CssClasses_.ACTIVE),this.orderValue_="",this.allowActive_=!1,this.setAllowActiveByType_()},e.prototype.setAllowActiveByType_=function(){switch(this.menuType_){case"list":this.allowActive_=!0}},e.prototype.checkAllowActive_=function(e){this.allowActive_=!this.itemActive_.isEqualNode(e)},e.prototype.toggleOpen_=function(){switch(this.menuType_){case"popup":this.element_.classList.toggle(this.CssClasses_.MENU_IS_OPEN);break;case"list":}},e.prototype.activeItem_=function(e){switch(this.itemActive_&&(this.itemActive_.classList.remove(this.CssClasses_.ACTIVE),this.itemActive_.classList.remove(this.CssClasses_.ASC),this.itemActive_.classList.remove(this.CssClasses_.DESC)),this.orderValue_=e.getAttribute(this.Constant_.ORDER_VALUE)||this.defaults_.orderValue,this.menuType_){case"list":this.orderValue_.indexOf("ASC")>=0?(this.orderValue_=this.orderValue_.replace("ASC","DESC"),e.classList.add(this.CssClasses_.DESC)):this.orderValue_.indexOf("DESC")>=0?(this.orderValue_=this.orderValue_.replace("DESC","ASC"),e.classList.add(this.CssClasses_.ASC)):(this.orderValue_+=" ASC",e.classList.add(this.CssClasses_.ASC)),e.setAttribute(this.Constant_.ORDER_VALUE,this.orderValue_);break;case"popup":}this.itemActive_=e,this.itemActive_.classList.add(this.CssClasses_.ACTIVE)},e.prototype.itemClickListener_=function(e){this.checkAllowActive_(e.target),this.setAllowActiveByType_(),this.allowActive_&&(this.activeItem_(e.target),this.paginator_.FieloPaginator.setOrderBy(this.orderValue_),this.paginator_.FieloPaginator.setPage(),this.paginator_.FieloPaginator.getRecords()),this.toggleOpen_()},e.prototype.setupItems_=function(){[].forEach.call(this.items_,function(e){
e.addEventListener("click",this.itemClickListener_.bind(this))},this)},e.prototype.init=function(){this.element_&&(this.setDefaults_(),this.setupItems_())},componentHandler.register({constructor:e,classAsString:"FieloOrderBy",cssClass:"fielo-order-by"})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.FieloFilter=e,e.prototype.Constant_={BINDING:"data-binding",DATA_ID:"data-id",CATEGORY:"category",TAG:"tag"},e.prototype.CssClasses_={LIST:"fielo-list",CATEGORY:"fielo-filter--is-category",TAG:"fielo-filter--is-tag",ITEM:"fielo-list__item",LINK:"fielo-link",PAGINATOR:"fielo-paginator",ACTIVE:"active"},e.prototype.setDefaults_=function(){this.list_=this.element_.querySelector("."+this.CssClasses_.LIST),this.items_=this.list_.querySelectorAll("."+this.CssClasses_.ITEM+" ."+this.CssClasses_.LINK),this.itemActive_=this.list_.querySelector("."+this.CssClasses_.ITEM+" ."+this.CssClasses_.ACTIVE)||!1,this.dataBinding_=this.list_.getAttribute(this.Constant_.BINDING)||'""',this.filters_={},this.setType_(),this.bindWithPaginators_(),this.setupItems_()},e.prototype.bindWithPaginators_=function(){this.listOfPaginators_=document.querySelectorAll("."+this.CssClasses_.PAGINATOR+"["+this.Constant_.BINDING+"="+this.dataBinding_+"]")},e.prototype.setType_=function(){this.type_="",this.element_.classList.contains(this.CssClasses_.CATEGORY)?this.type_=this.Constant_.CATEGORY:this.element_.classList.contains(this.CssClasses_.TAG)&&(this.type_=this.Constant_.TAG)},e.prototype.cleanActiveCss_=function(){this.itemActive_&&(this.itemActive_.classList.remove(this.CssClasses_.ACTIVE),fieloUtils.getParentUntil(this.itemActive_,"."+this.CssClasses_.ITEM).classList.remove(this.CssClasses_.ACTIVE))},e.prototype.checkIfItemIsAlreadyActive_=function(e){e.classList.contains(this.CssClasses_.ACTIVE)?this.clickedOnSameItem_=!0:this.clickedOnSameItem_=!1},e.prototype.activeItem_=function(e){this.checkIfItemIsAlreadyActive_(e),this.cleanActiveCss_(),this.clickedOnSameItem_?(this.removeFilter_(),this.itemActive=!1):(this.addFilter_(e),this.itemActive_=e,this.itemActive_.classList.add(this.CssClasses_.ACTIVE),fieloUtils.getParentUntil(this.itemActive_,"."+this.CssClasses_.ITEM).classList.add(this.CssClasses_.ACTIVE))},e.prototype.removeFilter_=function(){this.type_===this.Constant_.CATEGORY?this.filters_.Category__c=null:this.type_===this.Constant_.TAG&&(this.filters_.Tag__c=null)},e.prototype.addFilter_=function(e){var t=e.getAttribute(this.Constant_.DATA_ID);this.type_===this.Constant_.CATEGORY?this.filters_.Category__c=t:this.type_===this.Constant_.TAG&&(this.filters_.Tag__c=t)},e.prototype.itemClickListener_=function(e){e.preventDefault(),this.activeItem_(e.target),[].forEach.call(this.listOfPaginators_,function(e){e.FieloPaginator.setFilters(this.filters_),e.FieloPaginator.setPage(),e.FieloPaginator.getRecords()},this)},e.prototype.setupItems_=function(){[].forEach.call(this.items_,function(e){e.addEventListener("click",this.itemClickListener_.bind(this))},this)},e.prototype.init=function(){this.element_&&this.setDefaults_()},componentHandler.register({constructor:e,classAsString:"FieloFilter",cssClass:"fielo-filter"})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.FieloAppMenu=e,e.prototype.Constant_={},e.prototype.CssClasses_={APP_MENU_CONTAINER:"fielo-app-menu__body",APP_MENU_BTN:"fielo-app-menu__btn",APP_MENU_BTN_OPEN:"fielo-app-menu--is-open",APP_MENU_SLIDE_IN:"fielo-app-menu--is-sliding-in",APP_MENU_SLIDE_OUT:"fielo-app-menu--is-sliding-out"},e.prototype.setDefaults_=function(){this.isOpen_=!1,this.toggleBtn_=this.element_.querySelector("."+this.CssClasses_.APP_MENU_BTN)},e.prototype.upgrade_=function(e){if(e.dataset.upgraded){var t=e.dataset.upgraded.split(",").slice(1);t.forEach(function(t){componentHandler.upgradeElement(e,t)})}},e.prototype.menuBtn_=function(){this.toggleBtn_.addEventListener("click",this.toggleMenu_.bind(this))},e.prototype.toggleMenu_=function(){this.element_.classList.toggle(this.CssClasses_.APP_MENU_BTN_OPEN),this.element_.classList.toggle(this.CssClasses_.APP_MENU_SLIDE_IN),this.isOpen_?this.element_.classList.add(this.CssClasses_.APP_MENU_SLIDE_OUT):this.element_.classList.remove(this.CssClasses_.APP_MENU_SLIDE_OUT),this.isOpen_=!this.isOpen_},e.prototype.addToMenu=function(e){this.upgrade_(e),this.element_.querySelector("."+this.CssClasses_.APP_MENU_CONTAINER).appendChild(e)},e.prototype.init=function(){this.element_&&(this.setDefaults_(),fieloUtils.appMenu=this.element_,this.menuBtn_())},componentHandler.register({constructor:e,classAsString:"FieloAppMenu",cssClass:"fielo-app-menu",widget:!0})}(),function(){"use strict";var e=function(e){this.element_=e,this.init()};window.FieloMenu=e,e.prototype.Constant_={APP_MENU:"appMenu"},e.prototype.CssClasses_={LIST:"fielo-list",LIST_ITEM:"fielo-list__item",HOVER:"fielo-js-hover"},e.prototype.setDefaults_=function(){this.isAppMenu_(),this.menuChilds_=this.element_.querySelectorAll("."+this.CssClasses_.LIST+" ."+this.CssClasses_.LIST),this.parentsActive_=[]},e.prototype.checkHover_=function(){setTimeout(function(){var e=document.querySelectorAll(":hover");e=e[e.length-1];var t=fieloUtils.getParentUntil(e,"."+this.CssClasses_.HOVER);t?this.parentsActive_.length>1&&this.removeHover_():this.removeHover_()}.bind(this),100)},e.prototype.removeHover_=function(){this.parentsActive_.length>0&&(this.parentsActive_[0].classList.remove(this.CssClasses_.HOVER),this.parentsActive_.shift())},e.prototype.upgradeMenus_=function(){this.menuChilds_.length>0&&(this.menuParents_=[],[].forEach.call(this.menuChilds_,function(e){this.menuParents_.push(fieloUtils.getParentUntil(e,"."+this.CssClasses_.LIST_ITEM))},this),this.menuParents_.forEach(function(e){e.addEventListener("mouseenter",function(){-1===this.parentsActive_.indexOf(e)&&(e.classList.add(this.CssClasses_.HOVER),this.parentsActive_.push(e))}.bind(this)),e.addEventListener("mouseleave",function(){this.checkHover_()}.bind(this))},this))},e.prototype.isAppMenu_=function(){this.appMenuEnabled_=this.element_.dataset[this.Constant_.APP_MENU]||!1},e.prototype.addToAppMenu_=function(){if(this.appMenuEnabled_){var e=this.element_.cloneNode(!0);e.dataset[this.Constant_.APP_MENU]=!1,fieloUtils.appMenu.FieloAppMenu.addToMenu(e)}},e.prototype.init=function(){this.element_&&(this.setDefaults_(),this.upgradeMenus_(),this.addToAppMenu_())},componentHandler.register({constructor:e,classAsString:"FieloMenu",cssClass:"fielo-menu",widget:!0})}();var oldLoader=function(){"use strict";function e(e,t){"undefined"==typeof i[e]&&(i[e]=[]),i[e].push(t)}function t(e){var t=e.type;if("undefined"==typeof i[t])throw new Error("Unkown event "+t,"oldLoader.js",43);for(var s=0,n=i[t].length;n>s;s++)i[t][s](e)}var s=[],i={DOMContentLoaded:[],DOMContentReloaded:[],AjaxBeforeSend:[],AjaxComplete:[],ObjectChange:[]};return{addEventListener:e,dispatchEvent:t,dispatchElementEvent:function(e,t){if("createEvent"in document){var s=document.createEvent("HTMLEvents");s.initEvent(t,!1,!0),e.dispatchEvent(s)}else e.fireEvent("on"+t)},initForms_:function(e){oldLoader.dispatchEvent({type:"DOMContentReloaded",target:e,module:"form"})},loadModule:function(e){s.push(e),this[e.getName()]=s[s.length-1],"undefined"!=typeof e.initialize&&e.initialize()},eventListener:i}}();!function(){"use strict";var e=function(){function e(){fieloUtils.spinner.FieloSpinner.show()}function t(){fieloUtils.spinner.FieloSpinner.hide()}function s(s,i,n){e(s),fieloUtils.ajax(n,!1,function(e,n){if(200!==n)throw t(s),new Error("There was an error loding the content: code error "+n,"components.js");try{"undefined"!=typeof i&&null!==i?[].forEach.call(e.children,function(e){s.insertBefore(e,i)}):[].forEach.call(e.children,function(e){s.appendChild(e)}),oldLoader.dispatchEvent({type:"DOMContentReloaded",target:s,module:"components"}),t(s)}catch(o){throw t(s),o}})}var i="1",n="components",o="/",r=fieloUtils.site.FieloSite.ns;return""!==fieloUtils.site.FieloSite.sitePath_&&(o+=fieloUtils.site.FieloSite.sitePath_+"/"),""!==r&&(o+=r+"__"),{getName:function(){return n},getVersion:function(){return i},refreshView:function(e){var t=e.getAttribute("data-componentid"),i=e.getAttribute("data-parameter-name"),n=e.querySelector('input[name="SObject.id"]'),r=null,a=null;if(n&&(r=n.getAttribute("value")),null===t)throw new Error("Cannot get component id","components.js");a=o+"Component?componentId="+t,r&&i&&(a+="&"+i+"="+r);var l=document.getElementById(t+"_background");null!==l&&l.parentNode.removeChild(l);var c=e.parentNode,d=e.nextSibling;c.removeChild(e),s(c,d,a)},switchBack:function(e){var t=e.getAttribute("data-componentid"),i=document.getElementById(t+"_background"),n=e.parentNode,r=e.getAttribute("data-parameter-name"),a=e.querySelector('input[name="SObject.id"]'),l=null,c=null;if(a&&(l=a.getAttribute("value")),null===t)throw new Error("Cannot get component id","components.js");n.removeChild(e),c=o+"Component?componentId="+t,l&&r&&(c+="&"+r+"="+l),null===i?s(n,null,c):(i.classList.remove("hidden"),i.setAttribute("id",t+"_container"))},switchView:function(e,t){var i=e.parentNode,n=e.nextSibling,r=e.getAttribute("data-componentid"),a=e.getAttribute("data-parameter-name"),l=e.querySelector('input[name="SObject.id"]'),c=null,d=null;if(l&&(c=l.getAttribute("value")),null===r)throw new Error("Cannot get component id","components.js");d=o+"Component?componentId="+r,c&&a&&(d+="&"+a+"="+c);var h=document.getElementById(r+"_background");null!==h&&h.parentNode.removeChild(h),e.classList.add("hidden"),e.setAttribute("id",r+"_background"),s(i,n,d+"&view="+t)},changeView:function(e,t){var i=e.getAttribute("data-componentid"),n=null;if(null===i)throw new Error("Cannot get component id","components.js");n=o+"Component?componentId="+i;var r=e.parentNode,a=e.nextSibling;r.removeChild(e),s(r,a,n+"&view="+t)}}}();oldLoader.loadModule(e)}(),function(){"use strict";var e=function(){function e(e){[].forEach.call(e.querySelectorAll("button"),function(e){e.disabled=!0}),fieloUtils.spinner.FieloSpinner.show()}function t(e){[].forEach.call(e.querySelectorAll("button"),function(e){e.disabled=!1}),fieloUtils.spinner.FieloSpinner.hide()}function s(e,t){for(var s=e.querySelectorAll("input,select,textarea"),i=0,n=s.length;n>i;i++)if("undefined"!=typeof s[i].name&&""!==s[i].name&&"g-recaptcha-response"!==s[i].name){var o,r=t,a=s[i].name.split("."),l=0;for(l=0,o=a.length-1;"undefined"!=typeof r[a[l]]&&o>l;l++)r=r[a[l]];"undefined"!=typeof r[a[l]]&&(s[i].value=r[a[l]],oldLoader.dispatchElementEvent(s[i],"change"))}}function i(e){for(var t={},s=e.querySelectorAll("input,select,textarea"),i=0,n=s.length;n>i;i++){var o=s[i].value;if("undefined"!=typeof s[i].name&&""!==s[i].name&&"g-recaptcha-response"!==s[i].name&&("date"!==s[i].getAttribute("type")||""!==o)){"date"===s[i].getAttribute("type")&&(o=Date.parse(o));var r,a=t,l=s[i].name.split("."),c=0;if("Local"!==l[0]){for(c=0,r=l.length-1;r>c;c++)"undefined"==typeof a[l[c]]&&(a[l[c]]={}),a=a[l[c]];a[l[c]]=o}}}return t}function n(s,n){if(n.preventDefault(),y)if(s.checkValidity()===!1)fieloUtils.debug.log("Form is invalid !");else try{e(s);var r=s.getAttribute("data-remoteaction");if("undefined"==typeof r||null===r){var a=fieloUtils.site.FieloSite.ns;""!==a&&(a+="."),r=a+"PageController.remoteComponentAction"}var l,c=i(s),d=s.getAttribute("data-remotearguments");if("undefined"!=typeof d&&null!==d){d=d.split(",");for(l in c)if(d.indexOf(l)<0)throw new Error("Unkown remote argument "+l,"forms.js",152)}else d=Object.keys(c);for(var h=[r],_=0,u=d.length;u>_;_++)"undefined"==typeof c[d[_]]?h.push(null):"object"!=typeof c[d[_]]||"SObject"===d[_]?h.push(c[d[_]]):h.push(JSON.stringify(c[d[_]]));h.push(function(e,t){o(e,t,s)}),h.push({escape:!1}),Visualforce.remoting.Manager.invokeAction.apply(Visualforce.remoting.Manager,h)}catch(p){t(s),fieloUtils.debug.log(p)}y=!0}function o(e,i,n){try{if(i.status&&void 0!==e){var o=!1;if("undefined"!=typeof e.messages)for(var r=0,a=e.messages.length;a>r;r++)if(e.messages[r].severity.toLowerCase()==="ERROR".toLowerCase()||e.messages[r].severity.toLowerCase()==="FATAL".toLowerCase()){o=!0;break}var l=n.querySelector(".fielo-button__cancel"),c=fieloUtils.getParentUntil(n,".fielo-js-component"),d=[],h="";if(null===l||l.classList.contains("hidden")?void 0!==e.messages&&e.messages.length>0?(e.messages.forEach(function(e){d.push(e.summary)}),e.messages.length>0&&(h=e.messages[0].severity||"",fieloUtils.message.FieloMessage.clear(),fieloUtils.message.FieloMessage.addMessages(d),fieloUtils.message.FieloMessage.setType(h)),o||("#"===e.redirectURL?oldLoader.components.refreshView(c):void 0!==e.redirectURL&&fieloUtils.message.FieloMessage.setRedirect(fieloUtils.decodeHTMLEntities(e.redirectURL),6),void 0!==e.refresh&&0!==e.refresh.length||n.parentNode.removeChild(n)),e.messages.length>0&&fieloUtils.message.FieloMessage.show(),d.length=0):void 0!==e.redirectURL?"#"===e.redirectURL?oldLoader.components.refreshView(c):window.location.href=fieloUtils.decodeHTMLEntities(e.redirectURL):void 0===e.refresh||0===e.refresh.length?oldLoader.components.refreshView(c):e.refresh.length>0&&"refresh"===e.refresh[0].name&&oldLoader.components.refreshView(c):(o||void 0!==e.refresh&&0!==e.refresh.length||oldLoader.components.refreshView(c),e.messages.forEach(function(e){d.push(e.summary)}),e.messages.length>0&&(h=e.messages[0].severity||"",fieloUtils.message.FieloMessage.clear(),fieloUtils.message.FieloMessage.addMessages(d),fieloUtils.message.FieloMessage.setType(h),fieloUtils.message.FieloMessage.show()),d.length=0),void 0!==e.refresh&&e.refresh.length>0){for(var _={},u=0,p=e.refresh.length;p>u;u++)_[e.refresh[u].name]=e.refresh[u].value;s(n,_)}var f=n.getAttribute("data-remoteobject");null!==f&&oldLoader.dispatchEvent({type:"ObjectChange",target:document,module:"form",object:f})}else fieloUtils.debug.log(i);t(n)}catch(m){throw t(n),m}return!1}function r(e,t){""===e.value||"0"===e.value?(t.classList.remove("active"),e.value=0):t.classList.add("active")}function a(e,t){var s=e.getAttribute("data-remoteaction");t.setAttribute("data-remoteaction",s)}function l(e,t){if(t.classList.contains("fielo-form__shopping-cart")&&y){var s=fieloUtils.getParentUntil(e,".fielo-record"),i=s.querySelector(".fielo-shopping__quantity");i.value=0;var n=t.querySelector(".fielo-button__save");n.click(),s.parentElement.removeChild(s),s=i=n=null}}function c(){y=!!confirm(fieloUtils.site.FieloSite.getLabel("areYouSure"))}function d(e,t){"false"===e.value||""===e.value?t.classList.remove("active"):t.classList.add("active")}function h(e,t,s){var i=s.target,n=["png","gif","jpg","jpeg","bmp"],o=e.querySelector(".fielo-button__submit"),r=i.value.split(".");if(n.indexOf(r[r.length-1].toLowerCase())>-1){fieloUtils.message.FieloMessage.clear();var a=new FileReader;a.onload=function(){var t=a.result,s=e.querySelector(".fielo-image-upload__input");s.value=t},a.readAsDataURL(i.files[0]),o.disabled=!1,o.classList.remove("disabled")}else o.classList.add("disabled"),o.disabled=!0,fieloUtils.message.FieloMessage.clear(),fieloUtils.message.FieloMessage.addMessages(fieloUtils.site.FieloSite.getLabel("errorImageType")),fieloUtils.message.FieloMessage.setType("error"),fieloUtils.message.FieloMessage.show()}function _(){var e=document.querySelector(".fielo-js-captcha__input");e.value=grecaptcha.getResponse()}function u(e){var t=e.querySelector(".fielo-login__link"),s=e.querySelector(".fielo-field--is-password input"),i=e.querySelector(".fielo-field--is-username label"),n=e.querySelector(".fielo-field--is-password"),o=i.innerText,r=i.getAttribute("data-switchlabel");i.innerText=r,i.setAttribute("data-switchlabel",o);var a=t.innerText,l=t.getAttribute("data-switchlabel");t.innerText=l,t.setAttribute("data-switchlabel",a);var c=e.getAttribute("data-remoteaction");c=c.substring(0,c.lastIndexOf(".")+1),n.classList.contains("hidden")?(n.classList.remove("hidden"),s.setAttribute("required","true"),s.setAttribute("name","password"),e.setAttribute("data-remoteaction",c+"login"),e.setAttribute("data-remotearguments","username,password")):(n.classList.add("hidden"),s.removeAttribute("required"),s.setAttribute("name","Local.password"),e.setAttribute("data-remoteaction",c+"forgotPassword"),e.setAttribute("data-remotearguments","username"))}function p(e,t){var s=e.querySelector(".fielo-button__cancel");null!==s&&(s.addEventListener("click",function(){var t=fieloUtils.getParentUntil(e,".fielo-js-component");oldLoader.components.switchBack(t)}),t===!0&&s.classList.remove("hidden")),s=void 0}function f(e){var t=e.querySelector(".fielo-login__link");t&&t.addEventListener("click",function(){u(e)}),t=void 0}function m(e){for(var t=e.querySelectorAll(".fielo-input.fielo-js-upgrade"),s=0,i=t.length;i>s;s++){var n=t[s],o=n.getAttribute("data-required");"true"===o&&n.setAttribute("required","true");var r=n.getAttribute("data-type");if(null!==r)if(r=r.toLowerCase(),"picklist"===r){var a=n.getAttribute("data-value");n.value=a}else{if("url"!==r&&"email"!==r&&"dateTime"!==r&&"date"!==r&&(r="phone"===r?"tel":"double"===r||"integer"===r||"percent"===r||"currency"===r?"number":"boolean"===r?"checkbox":"text"),"date"===r&&""!==n.value){var l=new Date(n.value),c=l.getTime();if(!isNaN(c)){l=new Date(c+6e4*l.getTimezoneOffset());var d=l.getMonth()+1,h=l.getDate();n.value=l.getFullYear()+"-"+(10>d?"0":"")+d+"-"+(10>h?"0":"")+h}}n.setAttribute("type",r)}n.addEventListener("blur",g),n.addEventListener("invalid",g),n.addEventListener("valid",g)}t=void 0}function g(e){e.srcElement.classList.toggle("fielo-input--is-dirty",!0)}function C(e,t){"undefined"!=typeof e&&e.classList.contains("fielo-js-upgrade")&&(e.addEventListener("submit",n.bind(null,e),!1),p(e,t),f(e),m(e));var s=e.querySelector(".g-recaptcha");if(null!==s){var i=document.getElementsByTagName("body")[0],o=document.createElement("script");o.type="text/javascript",o.src="https://www.google.com/recaptcha/api.js",i.appendChild(o),window.captchaEvent=oldLoader.forms.captchaEvent}[].forEach.call(e.querySelectorAll(".fielo-button.fielo-js-upgrade"),function(t){t.addEventListener("click",a.bind(null,t,e))}),[].forEach.call(e.querySelectorAll(".fielo-js-confirm"),function(e){e.addEventListener("click",c.bind(null))}),[].forEach.call(e.querySelectorAll(".fielo-button__delete.fielo-js-upgrade"),function(t){t.addEventListener("click",l.bind(null,t,e))}),[].forEach.call(e.querySelectorAll(".fielo-image-upload.fielo-js-upgrade"),function(t){t.addEventListener("change",h.bind(null,e,t.name))}),[].forEach.call(e.querySelectorAll(".fielo-like,.fielo-wish"),function(t){t.addEventListener("change",d.bind(null,t,e)),d(t,e)}),[].forEach.call(e.querySelectorAll(".fielo-form__quantity-in-cart.fielo-js-upgrade"),function(t){t.addEventListener("change",r.bind(null,t,e)),r(t,e)}),e=void 0}var E="1",v="forms",y=!0;return{getName:function(){return v},getVersion:function(){return E},captchaEvent:_,initialize:function(){oldLoader.addEventListener("DOMContentLoaded",this.contentLoaded.bind(this)),oldLoader.addEventListener("DOMContentReloaded",this.contentLoaded.bind(this))},contentLoaded:function(e){var t,s,i=e.target.querySelectorAll(".fielo-form .fielo-js-upgrade");for(t=0,s=i.length;s>t;t++)C(i[t],"DOMContentReloaded"===e.type);for(t=0,s=i.length;s>t;t++)i[t].classList.remove("fielo-js-upgrade");i=void 0}}}();oldLoader.loadModule(e)}(),function(){"use strict";var e=function(){function e(e){var t=e.querySelector(".fielo-button__edit");t&&t.addEventListener("click",function(){oldLoader.components.switchView(e,"Edit")}),t=void 0}var t="1",s="formView";return{getName:function(){return s},getVersion:function(){return t},refreshDetail:function(e){for(var t=e.target.querySelectorAll(".fielo-form-view,.fielo-content[data-remoteobject="+e.object+"]"),s=0,i=t.length;i>s;s++)oldLoader.components.refreshView(t[s])},initialize:function(){oldLoader.addEventListener("DOMContentLoaded",this.contentLoaded.bind(this)),oldLoader.addEventListener("DOMContentReloaded",this.contentLoaded.bind(this)),oldLoader.addEventListener("ObjectChange",this.refreshDetail.bind(this))},contentLoaded:function(t){var s,i,n=t.target.querySelectorAll(".fielo-form-view.fielo-js-upgrade");for(s=0,i=n.length;i>s;s++)e(n[s],"DOMContentReloaded"===t.type);for(s=0,i=n.length;i>s;s++)n[0].classList.remove("fielo-js-upgrade");n=void 0}}}();oldLoader.loadModule(e)}(),function(){"use strict";var e=function(){oldLoader.dispatchEvent({type:"DOMContentLoaded",target:document})};window.FieloOldLoaderTrigger=e,componentHandler.register({constructor:e,classAsString:"FieloOldLoaderTrigger",cssClass:"fielo-js-old-loader-trigger",widget:!1})}();
//# sourceMappingURL=mobile.min.js.map
